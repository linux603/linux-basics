
 Security Group     = NSG      = Cloud Firewall

(AWS Security Group | Azure NSG | GCP Firewall)


 ðŸ”¹ What it is

A Security Group / NSG is a cloud-level virtual firewall that controls which ports and protocols are allowed to reach a VM.

ðŸ‘‰ It is attached to a VM (or its network interface)
ðŸ‘‰ It is NOT inside the Linux OS
ðŸ‘‰ Traffic is filtered before it reaches the server



 ðŸ”¹ Where it Works


Internet
   â†“
Cloud Firewall (SG / NSG)
   â†“
Linux OS Firewall
   â†“
Application


If traffic is blocked at SG/NSG â†’ Linux never sees it



 ðŸ”¹ Stateful (Very Important)

Stateful means:

 If incoming traffic is allowed
 Return traffic is allowed automatically

Linux admin does NOT need to open response ports

Example:

 Allow SSH (22) inbound
 SSH reply traffic is auto-allowed



 ðŸ”¹ Why It Is Needed

 1ï¸âƒ£ Port-level security

 Only required ports are opened
 All other ports are blocked by default

 2ï¸âƒ£ Protection from attacks

 Prevent unauthorized access
 Reduce attack surface



 ðŸ”¹ Common Example Rules

| Port | Service | Purpose            |
---------------------------------------
| 22   | SSH     | Linux admin access |
| 80   | HTTP    | Website            |
| 443  | HTTPS   | Secure website     |

Example rule:

Allow TCP 22 from 0.0.0.0/0




 ðŸ”¹ Linux Admin Role (Very Important)

 1ï¸âƒ£ Open required ports

 SSH not working â†’ check port 22 in SG/NSG
 App not accessible â†’ check app port

 Cloud firewall must allow traffic before Linux firewall matters



 2ï¸âƒ£ Diagnose â€œConnection Timeoutâ€

Check in this exact order:

1ï¸âƒ£ Security Group / NSG
2ï¸âƒ£ Routing (IGW / NAT / Route Table)
3ï¸âƒ£ Linux firewall (`firewalld`, `iptables`, `ufw`)
4ï¸âƒ£ Application/service status



 ðŸ”¹ Real-Life Example

Scenario:

 Web server running on port 80
 User cannot open website

Check:

 Is port 80 allowed in SG/NSG?

If  â†’ Website is unreachable
Even if Linux and Apache are running perfectly




 ðŸ”¹ One-Line Interview Answer (Important)

> Security Groups or NSGs are cloud-level, stateful virtual firewalls that control inbound and outbound traffic to VMs using port and protocol rules.



 *********IMP 


is Security Group-NSG-GCP-Firewall OS level?

NO
It is Cloud / Network level firewall


| Firewall Type              | Where it works           |

| Security Group / NSG       | Cloud level (outside the VM) |
| firewalld / iptables / ufw | Inside the Linux OS          |

Security Group sits before traffic reaches the server.
If traffic is blocked here â†’ Linux never sees it.


 ðŸ”¹ Traffic Flow (Easy to Remember)

Internet
   â†“
Cloud Firewall (SG / NSG)
   â†“
Linux OS Firewall
   â†“
Application


 ðŸ”¹ Why This Matters for Linux Admins

 Scenario:

 SSH not working

 Common mistake:
 Admin checks only `firewalld`
 But cloud SG blocks port 22

Result: SSH fails even if Linux firewall is open



 ðŸ”¹ Real-Life Teaching Example

| Case                        | Result |
| SG blocks port 22           | SSH âŒ  |
| SG allows 22 + OS blocks 22 | SSH âŒ  |
| SG allows 22 + OS allows 22 | SSH âœ…  |

 Both must allow traffic



 ðŸ”¹ One-Line Interview Answer *****imp 

> Security Groups or NSGs are cloud-level virtual firewalls, not OS-level firewalls; they control traffic before it reaches the VM.




SG first â†’ OS firewall next



